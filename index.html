<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lekha üå∏</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;600;800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
  --text:#ffffff;
  --card-bg:rgba(255,255,255,0.22);
}

body{
  font-family:'Nunito',sans-serif;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  transition:background 1.5s ease,opacity 1.2s ease;
}

.fade-out{opacity:0}

.card{
  background:var(--card-bg);
  backdrop-filter:blur(14px);
  padding:45px 35px;
  border-radius:30px;
  text-align:center;
  width:90%;
  max-width:520px;
  box-shadow:0 0 60px rgba(255,255,255,0.35);
  animation:float 6s ease-in-out infinite;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-15px)}
}

h1{
  color:var(--text);
  font-size:2.5rem;
  text-shadow:0 0 18px rgba(255,255,255,.7);
}

p{
  color:var(--text);
  font-size:1.15rem;
  margin-top:15px;
  line-height:1.8;
  white-space:pre-line;
  transition:opacity .8s ease;
}

.fade-text{opacity:0}

.heart{
  font-size:3.4rem;
  cursor:pointer;
  animation:beat 1.4s infinite;
  user-select:none;
}

@keyframes beat{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.25)}
}

/* Effects */
.sakura,.orb{
  position:absolute;
  opacity:.7;
}

.sakura{animation:fall linear infinite}
@keyframes fall{to{transform:translateY(120vh) rotate(360deg)}}

.orb{
  border-radius:50%;
  background:rgba(255,255,255,.6);
  animation:floatOrb ease-in-out infinite;
}
@keyframes floatOrb{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-25px)}
}

/* Aurora */
@keyframes auroraMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* Toast */
.toast{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.7);
  color:white;
  padding:14px 26px;
  border-radius:30px;
  font-size:1rem;
  opacity:0;
  transition:.6s;
}
.toast.show{opacity:1}

/* Audio overlay */
.audio-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.audio-overlay button{
  font-size:1.1rem;
  padding:18px 36px;
  border-radius:40px;
}
</style>
</head>

<body>

<div class="audio-overlay" id="audioOverlay">
  <button onclick="startExperience()">Tap to start the story üé∂</button>
</div>

<audio id="music" loop preload="auto">
  <source src="assets/music.mp3" type="audio/mpeg">
</audio>

<div class="card">
  <div class="heart" id="heart">üíó</div>
  <h1 id="title"></h1>
  <p id="text"></p>
</div>

<div class="toast" id="toast">üåô New episode unlocked</div>

<script>
const episodes={
  3:{t:"Episode 1: A Confession üå∏",m:"Will you be mine?",bg:"#ffd6d6"},
  4:{t:"Episode 2: You Appear",m:"You appear like a scene I replay.",bg:"#e6d9ff"},
  5:{t:"Episode 3: The Us üß∏üíï",m:"I hope one day it‚Äôs us.",bg:"#fff1d6"},
  6:{t:"Episode 4: Your Smile",m:"Your smile is where peace begins.",bg:"#e6e1ff"},
  7:{t:"Episode 5: Comfort Arc",m:"Some days just need someone who stays.",bg:"#2f3e55"},
  8:{t:"Episode 6: Growing Feelings",m:"My heart has been buffering‚Ä¶ and it‚Äôs you.",bg:"#d9f7ff"},
  9:{t:"Episode 7: Almost a Promise",m:"I don‚Äôt want perfect. I want you.",bg:"#f3d9ff"},
  10:{t:"Episode 8: Countdown",m:"Something is quietly building.",bg:"#fff6d9"},

  11:{
    t:"Episode: When Love Feels Like Home üïäÔ∏è",
    m:
"Somewhere between conversations and comfortable silences,\nbetween laughter that comes easily and pauses that don‚Äôt need filling,\nyou stopped feeling like a thought I visited ‚Äî\nand started feeling like a place I belonged.\n\nI didn‚Äôt notice the exact moment it happened.\nIt was subtle.\nGentle.\nLike realizing you‚Äôve been holding someone‚Äôs hand for a long time\nand never wanting to let go.\n\nThere was no rush.\nNo fear.\nJust a quiet certainty\nthat my heart had already chosen its home.",
    reveal:
"I didn‚Äôt fall all at once.\nI stayed.\nI paid attention.\nI chose you in ordinary moments ‚Äî\nand somehow, those moments became everything.\n\nI don‚Äôt imagine futures loudly anymore.\nI imagine mornings.\nShared glances.\nComfort.\nStaying.\n\nAnd every version of that life,\nevery calm tomorrow I picture,\nhas you in it ‚Äî\nwithout question,\nwithout doubt.",
    bg:"linear-gradient(135deg,#d7c9ff,#7a6fd1,#1f1b3a)",
    effect:"aurora",
    font:"playfair"
  },

  12:{t:"Episode 9: Every Timeline",m:"Every universe. Still you.",bg:"#e0ecff"},
  13:{t:"Episode 10: Two Days Left",m:"Almost there‚Ä¶",bg:"#f1e6ff"},
  14:{t:"Final Episode: Valentine‚Äôs üíñ",m:"Will you be my Valentine?",bg:"#ff5c8a"}
};

const today= 11;
const ep=episodes[today]||episodes[3];

document.body.style.background=ep.bg;
document.body.style.backgroundSize="300% 300%";
if(ep.effect==="aurora"){
  document.body.style.animation="auroraMove 20s ease infinite";
}

document.getElementById("title").innerText=ep.t;
if(ep.font==="playfair"){
  document.getElementById("title").style.fontFamily="'Playfair Display', serif";
}

const textEl=document.getElementById("text");
textEl.innerText=ep.m;

/* Effects */
if(ep.effect==="aurora"){
  for(let i=0;i<18;i++){
    const o=document.createElement("div");
    o.className="orb";
    o.style.width=o.style.height=(10+Math.random()*18)+"px";
    o.style.left=Math.random()*100+"vw";
    o.style.top=Math.random()*100+"vh";
    o.style.opacity="0.4";
    o.style.animationDuration=(12+Math.random()*10)+"s";
    document.body.appendChild(o);
  }
}else{
  for(let i=0;i<26;i++){
    const s=document.createElement("div");
    s.className="sakura";
    s.innerText="üå∏";
    s.style.left=Math.random()*100+"vw";
    s.style.fontSize=(14+Math.random()*22)+"px";
    s.style.animationDuration=(8+Math.random()*10)+"s";
    document.body.appendChild(s);
  }
}

/* Heart reveal */
let revealed=false;
document.getElementById("heart").onclick=()=>{
  if(revealed||!ep.reveal) return;
  revealed=true;
  textEl.classList.add("fade-text");
  setTimeout(()=>{
    textEl.innerText=ep.reveal;
    textEl.classList.remove("fade-text");
  },900);
};

/* Audio */
function startExperience(){
  const a=document.getElementById("music");
  a.volume=0;
  a.play().then(()=>{
    let v=0;
    const f=setInterval(()=>{
      if(v>=1)clearInterval(f);
      a.volume=v; v+=0.05;
    },100);
  });
  document.getElementById("audioOverlay").style.display="none";
}

/* Midnight refresh */
const now=new Date();
const midnight=new Date(); midnight.setHours(24,0,0,0);
setTimeout(()=>{
  document.getElementById("toast").classList.add("show");
  setTimeout(()=>{
    document.body.classList.add("fade-out");
    setTimeout(()=>location.reload(),1200);
  },1500);
},midnight-now);
</script>

</body>
</html>
